<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="mystyle.css">
<body><!--(1)、(2)、(4)、(6)-->
    <h1>樂透遊戲</h1>
    <p>請輸入數字 1~10 之間的 3 個號碼：</p>
    <h3>頭獎可得1000元(中三個數字)</h3>
    <h3>貳獎可得500元(中兩個數字)</h3>
    <h3>參獎可得100元(中一個數字)</h3>
    <input type="number" id="number1" min="1" max="10">
    <input type="number" id="number2" min="1" max="10">
    <input type="number" id="number3" min="1" max="10">
    <br><br>
    <button onclick="startGame()">開獎</button>
    <button onclick="resetGame()">重新開始</button>
    <br><br>
    <div id="result"></div>  
<script>
    var winningNumbers = []; // 儲存得獎號碼的陣列


    function startGame() {
        var userNumbers = getUserNumbers(); // 取得使用者輸入的號碼
        if (userNumbers.length !== 3) {
            alert("請輸入3個數字！");
            resetGame();
            return;
        }

        var result = compareNumbers(userNumbers); // 比對號碼並取得結果
        displayResult(result); // 顯示中獎結果
        innerHTML=winningNumbers;
    }
    

    function getUserNumbers() {
        var input1 = parseInt(document.getElementById("number1").value);
        var input2 = parseInt(document.getElementById("number2").value);
        var input3 = parseInt(document.getElementById("number3").value);
        var userNumbers = [input1, input2, input3];
        return userNumbers;
    }
    function compareNumbers(userNumbers) {
    var matchedCount = 0;
    for (var i = 0; i < userNumbers.length; i++) {
        if (winningNumbers.includes(userNumbers[i])) {
        matchedCount++;
        }
    }

    return matchedCount;
    }

    function displayResult(matchedCount) {
    var message = "";
    if (matchedCount === 3) {
        message = "恭喜您中了頭獎！獎金 $1000";
    } else if (matchedCount === 2) {
        message = "恭喜您中了貳獎！獎金 $500";
    } else if (matchedCount === 1) {
        message = "恭喜您中了參獎！獎金 $100";
    } else {
        message = "沒有中獎，再接再厲！";
    }

    document.getElementById("result").innerHTML = message;
    }

    function resetGame() {
    document.getElementById("number1").value = "";
    document.getElementById("number2").value = "";
    document.getElementById("number3").value = "";
    document.getElementById("result").innerHTML = "";

    generateWinningNumbers();
    }

    function generateWinningNumbers() {
    winningNumbers = [];

    while (winningNumbers.length < 3) {
        var randomNum = Math.floor(Math.random() * 10) + 1;
        if (!winningNumbers.includes(randomNum)) {
            winningNumbers.push(randomNum);
            }
        }
    }
</script>
<img class="style1" src="lottery.png" alt="樂透" >
</body>
</html>
